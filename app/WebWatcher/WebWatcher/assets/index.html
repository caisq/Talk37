<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <table>
        <tr>
            <td>
                <button title="Button 00" style="width: 200px; height: 100px" onclick="document.getElementById('theLabel').innerHTML = 'Button 00';">Button 00a</button>
            </td>
            <td>
                <button title="Button 01" style="width: 200px; height: 100px" onclick="document.getElementById('theLabel').innerHTML = 'Button 01';">Button 01b</button>
            </td>
        </tr>
        <tr>
            <td>
                <button title="Button 10" style="width: 200px; height: 100px" onclick="document.getElementById('theLabel').innerHTML = 'Button 10';">Button 10c</button>
            </td>
            <td>
                <button title="Button 11" id="button_11" style="width: 200px; height: 100px" onclick="document.getElementById('theLabel').innerHTML = 'Button 11';">Button 11d</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <label id="theLabel" />
            </td>
        </tr>
    </table>
    <script>
        async function invoke() {
            console.log("100 window.boundListener = ", window.boundListener);
            await window.CefSharp.BindObjectAsync("boundListener");
            console.log("200 window.boundListener = ", window.boundListener);
        }
        invoke();
        // [left, top, right, bottom].
        const coordinates = [[11, 12, 211, 112], [11, 115, 211, 215]];
        let i = 0;
        setInterval(() => {
            console.log("300 window.boundListener = ", window.boundListener);
            if (window.boundListener != null) {
                const button_11 = document.getElementById("button_11");
                if (button_11) {
                    console.log("Removed button_11 =", button_11);
                    button_11.remove();
                }
                window.boundListener.onDomChange();
                window.boundListener.updateButtonBoxes("component1", [coordinates[i]]);
                i++;
                if (i >= coordinates.length) {
                    i = 0;
                }
            }
        }, 5 * 1000);
    </script>
</body>
</html>
